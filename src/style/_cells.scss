$cell-bg:#FFFFFF;
$cell-border-color:#D9D9D9;
$cell-gap-x:10px;
$cell-gap-y:15px;
$cell-inner-gap-y:.35em;
$cell-height: 44px;
$cell-font-size:17px;
$cell-tips-font-size:14px;
$cell-label-width:105px;

$cell-line-height: ($cell-height - 2 * $cell-gap-x) / $cell-font-size; // 高度为44px，减去上下padding的行高
$cells-margin-top:20 / ($cell-font-size/($cell-font-size*0 + 1)) + em;

// x2ui switch
$x2uiSwitchHeight: 32px;

.cell-container {
    margin-top: $cells-margin-top;
    background-color: $cell-bg;
    line-height: $cell-line-height;
    font-size: $cell-font-size; //cell中间有效高度23px，跟客户端默认图标尺寸一致

    overflow: hidden; //因为每个cell的border使用before元素left搞的，ie下伪元素的containing block估计跟标准不同，在cell上用oh不生效

    // onepx
    position: relative;
    &:before {
        @include setTopLine($cell-border-color);
    }
    &:after {
        @include setBottomLine($cell-border-color);
    }
}

.cell-title {
    margin-top: .77em; // 15px - 行高
    margin-bottom: .3em; // 8px - 行高
    padding-left: $cell-gap-y;
    padding-right: $cell-gap-y;
    color: $x2uiTextColorGray;
    font-size: $cell-tips-font-size;

    & + .cell-container {
        margin-top: 0;
    }
}

.cell-tip {
    margin-top: .3em; // 8px - 行高
    color: $x2uiTextColorGray;
    padding-left: $cell-gap-y;
    padding-right: $cell-gap-y;
    font-size: $cell-tips-font-size;
}

.cell-item {
    padding: $cell-gap-x $cell-gap-y;
    position: relative; //这个是为了兼容cells容器onepx方案被before挡住而做的
    display: flex;
    align-items: center;
    &:before {
        @include setTopLine($cell-border-color);
        left: $cell-gap-y;
        right: $cell-gap-y;
    }
    &:first-child {
        &:before {
            display: none;
        }
    }
}
.cell-primary{
    align-items: flex-start;
}
.cell-body{
    flex: 1;
}
.cell-foot {
    text-align: right;
    color: $x2uiTextColorGray;
}
.cell-access {
    @include setTapColor();
    color: inherit;
    &:active {
        background-color: #ECECEC;
    }
    .cell-foot {
        padding-right: 13px;
        position: relative;
        &:after {
            content: " ";
            @include setArrow(right, 6px, #C8C8CD, 2px);
            position: absolute;
            top: 50%;
            margin-top: -4px;
            right: 2px;
        }
    }
}
.cell-link{
    color: $x2uiLinkColorDefault;
    font-size: 14px;

    // 由于cell-item:first-child的:before为隐藏，所以这里要重新显示出来
    &:first-child{
        &:before{
            display: block;
        }
    }
}
.check-label {
    @include setTapColor();
    &:active {
        background-color: #ECECEC;
    }
}

.x2ui-check{
    position: absolute;
    left: -9999em;
}

.cell-radio{
    .cell-foot {
        padding-left: $cell-inner-gap-y;
    }
}
.x2ui-check {
    // radio
    .cell-radio & {
        &:checked {
            & + .x2ui-icon-checked {
                &:before {
                    display: block;
                    content: '\EA08';
                    color: #09BB07;
                    font-size: 16px;
                }
            }
        }
    }
}

.cell-container-checkbox{
    .cell-item-head {
        padding-right: $cell-inner-gap-y;
    }
    .x2ui-icon-checked {
        &:before {
            content: '\EA01';
            color: #C9C9C9;
            font-size: 23px;
            display: block;
        }
    }
}

// method2 accessbility
.x2ui-check {
    // checkbox
    .cell-container-checkbox& {
        &:checked {
            & + .x2ui-icon-checked {
                &:before {
                    content: '\EA06';
                    color: #09BB07;
                }
            }
        }
    }
}

.form-preview{
    position: relative;
    background-color: #FFFFFF;
    &:before{
        @include setTopLine($cell-border-color);
    }
    &:after{
        @include setBottomLine($cell-border-color);
    }
}
.form-preview-head{
    position: relative;
    padding: $cell-gap-x $cell-gap-y;
    text-align: right;
    line-height: 2.5em;
    &:after{
        @include setBottomLine($cell-border-color);
        left: $cell-gap-y;
    }
    .form-preview-value{
        font-style: normal;
        font-size: 1.6em;
    }
}
.form-preview-body{
    padding: $cell-gap-x $cell-gap-y;
    font-size: .9em;
    text-align: right;
    color: $x2uiTextColorGray;
    line-height: 2;
}
.form-preview-foot{
    position: relative;
    line-height: 50px;
    display: flex;
    &:after {
        @include setTopLine($x2uiDialogLineColor);
    }
}
.form-preview-item{
    overflow: hidden;
}
.form-preview-label{
    float: left;
    margin-right: 1em;
    min-width: 4em;
    color: $x2uiTextColorGray;
    text-align: justify;
    text-align-last: justify;
}
.form-preview-value{
    display: block;
    overflow: hidden;
    word-break:normal;
    word-wrap: break-word;
}
.form-preview-btn {
    position: relative;
    display: block;
    flex: 1;
    color: $dialog-link-color;
    text-align: center;
    @include setTapColor();
    button &{
        background-color: transparent;
        border: 0;
        outline: 0;
        line-height: inherit;
        font-size: inherit;
    }
    &:active {
        background-color: $x2uiDialogLinkActiveBc;
    }
    &:after {
        @include setLeftLine($x2uiDialogLineColor);
    }
    &:first-child {
        &:after {
            display: none;
        }
    }
}
.form-preview-btn-default {
    color: $x2uiTextColorGray;
}
.form-preview-btn-primary {
    color: #0BB20C;
}
.x2ui-label{
  display:block;
  width:$cell-label-width;
  @include text_wrap();
}
.x2ui-input {
    width: 100%;
    border: 0;
    outline: 0;
    -webkit-appearance: none;
    background-color: transparent;
    font-size: inherit;
    color: inherit;
    height: $cell-line-height + em;
    line-height: $cell-line-height;

    // hides the spin-button
    &::-webkit-outer-spin-button, &::-webkit-inner-spin-button{
        -webkit-appearance: none;
        margin: 0;
    }
}
.x2ui-textarea {
    display: block;
    border: 0;
    resize: none;
    width: 100%;
    color: inherit;
    font-size: 1em;
    line-height: inherit;
    outline: 0;
}

.textarea-counter{
    color: $x2uiTextColorTips;
    text-align: right;
    .cell-item-warn &{
        color: $x2uiTextColorWarn;
    }
}

.toptips {
    display:none;
    position: fixed;
    transform: translateZ(0);
    top: 0;
    left: 0;
    right: 0;
    padding:5px;
    font-size:14px;
    text-align: center;
    color: #FFF;
    z-index: 5000;
    @include text_wrap();
}
.toptips-warn {
    background-color: $x2uiColorWarn;
}
.cell-container-form {
    .cell-foot{
        font-size:0;
    }
    .x2ui-icon-warn{
        display:none;
    }
    input, textarea, label[for]{
        @include setTapColor();
    }
}
.cell-item-warn{
    color:$x2uiTextColorWarn;
    .x2ui-icon-warn{display:inline-block;}
}
.cell-item-select {
    padding: 0;
    .x2ui-select {
        padding-right: 30px;
    }
    .cell-body{
        &:after{
            content: " ";
            @include setArrow(right, 6px, #C8C8CD, 2px);

            position: absolute;
            top: 50%;
            right: $cell-gap-y;
            margin-top: -4px;
        }
    }
}

.x2ui-select {
    -webkit-appearance: none;
    border: 0;
    outline: 0;
    background-color: transparent;
    width: 100%;
    font-size: inherit;
    height: $cell-height;
    line-height: $cell-height;
    position: relative;
    z-index: 1;
    padding-left: $cell-gap-y;
}

.cell-item-select-before {
    padding-right:$cell-gap-y;
    .x2ui-select{
        width:$cell-label-width;
        box-sizing: border-box;
    }
    .cell-item-head {
        position:relative;
        &:after {
            @include setRightLine($cell-border-color);
        }
        &:before{
            content: " ";
            @include setArrow(right, 6px, #C8C8CD, 2px);

            position: absolute;
            top: 50%;
            right: $cell-gap-y;
            margin-top: -4px;
        }
    }
    .cell-body {
        padding-left:$cell-gap-y;
        &:after{
            display:none;
        }
    }
}

.cell-item-select-after {
    padding-left:$cell-gap-y;
    .x2ui-select {
        padding-left:0;
    }
}

.cell-item_vcode {
    padding-top: 0;
    padding-right: 0;
    padding-bottom: 0;
}
.x2ui-vcode-img{
    margin-left: 5px;
    height: $cell-height;
    vertical-align: middle;
}

.x2ui-vcode-btn {
    display: inline-block;
    height: $cell-height;
    margin-left: 5px;
    padding: 0 0.6em 0 0.7em;
    border-left: 1px solid $x2uiLineColorLight;
    line-height: $cell-height;
    vertical-align: middle;
    font-size: $cell-font-size;
    color: $dialog-link-color;
    &button{
        background-color: transparent;
        border-top: 0;
        border-right: 0;
        border-bottom: 0;
        outline: 0;
    }
    &:active {
        color: desaturate($dialog-link-color, 30%);
    }
}

.cell-item_switch{
    padding-top: ($cell-height - $x2uiSwitchHeight) / 2;
    padding-bottom: ($cell-height - $x2uiSwitchHeight) / 2;
}
.x2ui-switch{
    appearance: none;
}
.x2ui-switch,
.x2ui-switch-cp__box{
    position: relative;
    width: 52px;
    height: $x2uiSwitchHeight;
    border: 1px solid #DFDFDF;
    outline: 0;
    border-radius: 16px;
    box-sizing: border-box;
    background-color: #DFDFDF;
    transition: background-color .1s, border .1s;

    &:before{
        content: " ";
        position: absolute;
        top: 0;
        left: 0;
        width: 50px;
        height: $x2uiSwitchHeight - 2;
        border-radius: 15px;
        background-color: #FDFDFD;
        transition:transform .35s cubic-bezier(0.45, 1, 0.4, 1);
    }
    &:after{
        content: " ";
        position: absolute;
        top: 0;
        left: 0;
        width: $x2uiSwitchHeight - 2;
        height: $x2uiSwitchHeight - 2;
        border-radius: 15px;
        background-color: #FFFFFF;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        transition:transform .35s cubic-bezier(0.4, 0.4, 0.25, 1.35);
    }
}
.x2ui-switch:checked,
.x2ui-switch-cp__input:checked ~ .x2ui-switch-cp__box{
    border-color: #04BE02;
    background-color: #04BE02;
    &:before {
        transform: scale(0);
    }
    &:after {
        transform: translateX(20px);
    }
}

// 兼容IE Edge的版本
.x2ui-switch-cp__input{
    position: absolute;
    left: -9999px;
}
.x2ui-switch-cp__box{
    display: block;
}
